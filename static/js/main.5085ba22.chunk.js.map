{"version":3,"sources":["kobe.jpg","bball.svg","services/users.js","services/login.js","services/games.js","services/players.js","reducers/loginReducer.js","components/forms/NewAccountForm.js","components/forms/LoginForm.js","components/FrontPage.js","components/Game.js","components/Markers.js","components/GameInfo.js","components/ClusterInfo.js","components/MarkerInfo.js","components/Navigation.js","reducers/gameReducer.js","components/forms/NewGameForm.js","components/NoLocation.js","components/Map.js","reducers/locationReducer.js","App.js","index.js"],"names":["module","exports","baseUrl","create","newUser","a","axios","post","login","credentials","response","data","token","getAllActive","get","newGame","config","headers","Authorization","setToken","newToken","game","username","password","dispatch","loginService","user","window","localStorage","setItem","JSON","stringify","gameService","playerService","type","loginReducer","state","action","connect","props","useState","newUsername","setNewUsername","newName","setNewName","newPassword","setNewPassword","notification","setNotification","createAccount","event","preventDefault","name","userService","toast","info","position","POSITION","TOP_CENTER","error","Grid","Column","Segment","style","padding","backgroundColor","Form","onSubmit","Header","as","inverted","Message","className","color","id","placeholder","value","onChange","target","Button","fluid","size","setUsername","setPassword","handleLogin","exception","Group","inline","widths","FrontPage","columns","Row","paddingBottom","paddingTop","Subheader","src","kobe","alt","maxWidth","maxHeight","Game","cluster","zoom","properties","latitude","location","lat","longitude","long","onClick","bball","height","width","Markers","clusters","map","geometry","coordinates","key","point_count","GameInfo","gameInfo","setSelected","joinGame","date","endTime","slice","time","border","background","top","right","Icon","primary","margin","marginLeft","wordWrap","desc","participants","length","maxParticipants","List","bulleted","participant","Item","ClusterInfo","clusterInfo","supercluster","games","getLeaves","MarkerInfo","selectedCluster","logOut","removeItem","Menu","marginBottom","gameReducer","concat","updatedGame","find","gameId","userId","createGame","duration","setDuration","setDesc","setmaxParticipants","formVisible","setFormVisible","createNewGame","durationMins","marginTop","marginRight","NoLocation","Container","icon","warning","Content","points","addPlayer","viewport","setViewport","selected","useEffect","lng","mapRef","useRef","mapBounds","current","getMap","getBounds","toArray","flat","useSupercluster","bounds","options","radius","maxZoom","warn","ref","mapboxApiAccessToken","process","mapStyle","onViewportChange","zoomLevel","Math","min","getClusterExpansionZoom","transitionInterpolator","FlyToInterpolator","speed","transitionDuration","ipLookUp","res","locationReducer","configure","autoClose","hideProgressBar","initializeGames","stayLoggedIn","changeLocation","navigator","geolocation","getCurrentPosition","userLocation","coords","message","console","log","then","initGames","keepUserLogged","setLocation","loggedUserJSON","getItem","parse","reducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"yHAAAA,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,qNCEvCC,EAAU,GAGZA,EAAU,yCAGZ,IAMe,GACbC,OALU,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACAC,IAAMC,KAAN,UAAcL,GAAd,OAHA,cAGkCE,GADlC,mFAAH,uDCRRF,EAAU,GAGZA,EAAU,yCAGZ,IAOe,GAAEM,MALN,uCAAG,WAAOC,GAAP,eAAAJ,EAAA,sEACWC,IAAMC,KAAN,UAAcL,GAAd,OAHV,cAG4CO,GAD7C,cACNC,EADM,yBAELA,EAASC,MAFJ,2CAAH,uDCRPC,EAAQ,KACRV,EAAU,GAGZA,EAAU,yCAGZ,IAoBe,GACbW,aAfgB,uCAAG,4BAAAR,EAAA,sEACIC,IAAMQ,IAAN,UAAaZ,GAAb,OAPV,aAOU,YADJ,cACbQ,EADa,yBAEZA,EAASC,MAFG,2CAAH,qDAgBhBR,OAXU,uCAAG,WAAOY,GAAP,iBAAAV,EAAA,6DACPW,EAAS,CACbC,QAAS,CAAEC,cAAeN,IAFf,SAKUN,IAAMC,KAAN,UAAcL,GAAd,OAhBV,cAgB4Ca,EAASC,GALrD,cAKPN,EALO,yBAMNA,EAASC,MANH,2CAAH,sDAYVQ,SArBe,SAACC,GAChBR,EAAK,iBAAaQ,KCVhBR,EAAQ,KACRV,EAAU,GAGZA,EAAU,yCAGZ,IAgBe,GACbiB,SAde,SAACC,GAChBR,EAAK,iBAAaQ,IAclBjB,OAXU,uCAAG,WAAOkB,GAAP,iBAAAhB,EAAA,6DACPW,EAAS,CACbC,QAAS,CAAEC,cAAeN,IAFf,SAKUN,IAAMC,KAAN,UAAcL,GAAd,OAZV,gBAY4CmB,EAAML,GALlD,cAKPN,EALO,yBAMNA,EAASC,MANH,2CAAH,uDCCCH,EAAQ,SAACc,EAAUC,GAC9B,8CAAO,WAAMC,GAAN,eAAAnB,EAAA,+EAEgBoB,EAAajB,MAAM,CAAEc,WAAUC,aAF/C,OAEGG,EAFH,OAGHC,OAAOC,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUL,IAC3DM,EAAYb,SAASO,EAAKd,OAC1BqB,EAAcd,SAASO,EAAKd,OAC5BY,EAAS,CACPU,KAAM,QACNR,SARC,2EAWI,KAAUhB,UAXd,0DAAP,mDAAM,IAoCOyB,EAlDM,WAA2B,IAA1BC,EAAyB,uDAAjB,KAAMC,EAAW,uCAC7C,OAAQA,EAAOH,MACb,IAAK,QAEL,IAAK,iBACH,OAAOG,EAAOX,KAChB,IAAK,SACH,OAAO,KACT,QACE,OAAOU,I,4CCoFEE,cAAQ,KAAM,CAAE9B,SAAhB8B,EA1FQ,SAACC,GAAW,IAAD,EACMC,mBAAS,IADf,mBACzBC,EADyB,KACZC,EADY,OAEFF,mBAAS,IAFP,mBAEzBG,EAFyB,KAEhBC,EAFgB,OAGMJ,mBAAS,IAHf,mBAGzBK,EAHyB,KAGZC,EAHY,OAIQN,mBAAS,IAJjB,mBAIzBO,EAJyB,KAIXC,EAJW,KAM1BC,EAAa,uCAAG,WAAOC,GAAP,eAAA7C,EAAA,6DACpB6C,EAAMC,iBADc,SAGZ/C,EAAU,CACdkB,SAAUmB,EACVW,KAAMT,EACNpB,SAAUsB,GANM,SAQZQ,EAAYlD,OAAOC,GARP,OASlBsC,EAAe,IACfE,EAAW,IACXE,EAAe,IACfE,EAAgB,IAChBT,EAAM/B,MAAMJ,EAAQkB,SAAUlB,EAAQmB,UACtC+B,IAAMC,KAAN,kBAAsBnD,EAAQkB,UAAY,CACxCkC,SAAUF,IAAMG,SAASC,aAfT,kDAkBlBV,EAAgB,KAAUtC,SAASC,KAAKgD,OAlBtB,0DAAH,sDAsBnB,OACE,kBAACC,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKC,OAAN,KACE,kBAACC,EAAA,EAAD,CAASC,MAAO,CAAEC,QAAS,OAAQC,gBAAiB,YAClD,kBAACC,EAAA,EAAD,CAAMC,SAAUlB,GACd,kBAACmB,EAAA,EAAD,CAAQC,GAAG,KAAKC,UAAQ,GAAxB,WAGkB,KAAjBvB,GACC,kBAACwB,EAAA,EAAD,KACGxB,GAGL,yBAAKyB,UAAU,SACb,2BAAOT,MAAO,CAAEU,MAAO,UAAvB,YACA,yBAAKD,UAAU,kBACb,2BACEE,GAAG,WACHX,MAAO,CAAEU,MAAO,QAASR,gBAAiB,WAC1C/B,KAAK,OACLyC,YAAY,6BACZC,MAAOnC,EACPoC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBpC,EAAeoC,EAAOF,YAItD,yBAAKJ,UAAU,SACb,2BAAOT,MAAO,CAAEU,MAAO,UAAvB,QACA,yBAAKD,UAAU,kBACb,2BACEE,GAAG,OACHX,MAAO,CAAEU,MAAO,QAASR,gBAAiB,WAC1C/B,KAAK,OACLyC,YAAY,yBACZC,MAAOjC,EACPkC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBlC,EAAWkC,EAAOF,YAIlD,yBAAKJ,UAAU,SACb,2BAAOT,MAAO,CAAEU,MAAO,UAAvB,YACA,yBAAKD,UAAU,kBACb,2BACEE,GAAG,WACHX,MAAO,CAAEU,MAAO,QAASR,gBAAiB,WAC1C/B,KAAK,WACLyC,YAAY,+BACZC,MAAO/B,EACPgC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBhC,EAAegC,EAAOF,YAItD,kBAACG,EAAA,EAAD,CAAQN,MAAM,OAAOO,OAAK,EAACC,KAAK,QAAQP,GAAG,0BAA3C,kBCCGpC,cAAQ,KAAM,CAAE9B,SAAhB8B,EAjFG,SAACC,GAAW,IAAD,EACKC,mBAAS,IADd,mBACpBlB,EADoB,KACV4D,EADU,OAEK1C,mBAAS,IAFd,mBAEpBjB,EAFoB,KAEV4D,EAFU,OAGa3C,mBAAS,IAHtB,mBAGpBO,EAHoB,KAGNC,EAHM,KAKrBoC,EAAW,uCAAG,WAAOlC,GAAP,eAAA7C,EAAA,6DAClB6C,EAAMC,iBADY,SAEMZ,EAAM/B,MAAMc,EAAUC,GAF5B,QAEZ8D,EAFY,SAKhBF,EAAY,IACZnC,EAAgBqC,EAAU1E,KAAKgD,QAE/BL,IAAMC,KAAN,kBAAsBjC,GAAY,CAChCkC,SAAUF,IAAMG,SAASC,aATX,2CAAH,sDAcjB,OACE,kBAACQ,EAAA,EAAD,CACEC,SAAUiB,GAEV,kBAAChB,EAAA,EAAD,CACEC,GAAG,KACHC,UAAQ,GAFV,SAMA,kBAACJ,EAAA,EAAKoB,MAAN,CACEC,QAAM,EACNC,OAAO,SAEP,yBACEhB,UAAU,SAEV,yBACEA,UAAU,kBAEV,2BACEE,GAAG,iBACHX,MAAO,CAAEU,MAAO,QAASR,gBAAiB,WAC1C/B,KAAK,OACLyC,YAAY,WACZC,MAAOtD,EACPuD,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBI,EAAYJ,EAAOF,YAInD,yBACEJ,UAAU,SAEV,yBACEA,UAAU,kBAEV,2BACEE,GAAG,iBACHX,MAAO,CAAEU,MAAO,QAASR,gBAAiB,WAC1C/B,KAAK,WACLyC,YAAY,WACZC,MAAOrD,EACPsD,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBK,EAAYL,EAAOF,YAInD,kBAACG,EAAA,EAAD,CACEN,MAAM,OACNC,GAAG,gBAFL,UAOgB,KAAjB3B,GACC,kBAACwB,EAAA,EAAD,KACGxB,O,kBC3CI0C,EAhCG,WAChB,OACE,kBAAC7B,EAAA,EAAD,CAAM8B,QAAS,GACb,kBAAC9B,EAAA,EAAK+B,IAAN,CAAU5B,MAAO,CAAG6B,cAAe,OAAQC,WAAY,SACrD,kBAACjC,EAAA,EAAKC,OAAN,MAEA,kBAACD,EAAA,EAAKC,OAAN,KACE,kBAAC,EAAD,QAGJ,kBAACD,EAAA,EAAK+B,IAAN,KACE,kBAAC/B,EAAA,EAAKC,OAAN,KACE,kBAACO,EAAA,EAAD,CAAQC,GAAG,KAAKC,UAAQ,GAAxB,oBAEE,kBAACF,EAAA,EAAO0B,UAAR,kDAIF,yBAAKC,IAAKC,IAAMC,IAAI,gCAAgClC,MAAO,CAAEmC,SAAU,MAAOC,UAAW,UAE3F,kBAACvC,EAAA,EAAKC,OAAN,KACE,kBAAC,EAAD,U,4CCPKuC,EAhBF,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,KAEjBjF,EAAOgF,EAAQE,WACrB,OAEE,kBAAC,IAAD,CACEC,SAAUnF,EAAKoF,SAASC,IACxBC,UAAWtF,EAAKoF,SAASG,MAEzB,yBAAKC,QAAS,WAAQP,EAAKD,KACzB,yBAAKN,IAAKe,IAAOb,IAAI,sBAAsBlC,MAAO,CAAEgD,OAAQ,OAAQC,MAAO,aCoBpEC,EA9BC,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,SAAUZ,EAAW,EAAXA,KAC3B,OACEY,EAASC,KAAI,SAAAd,GAAY,IAAD,cACQA,EAAQe,SAASC,YADzB,GACfV,EADe,KACJH,EADI,KAGtB,OAAIH,EAAQE,WAAWF,QAGnB,kBAAC,IAAD,CACEiB,IAAKjB,EAAQ3B,GACb8B,SAAUA,EACVG,UAAWA,GACX,yBAAKE,QAAS,kBAAMP,EAAKD,IAAUtC,MAAO,CAAE,MAAS,QAAS,gBAAmB,UAAW,aAAgB,MAAO,MAAS,OAAQ,OAAU,OAAQ,UAAa,SAAU,WAAc,SACxLsC,EAAQE,WAAWgB,cAO1B,kBAAC,EAAD,CACED,IAAKjB,EAAQE,WAAW7B,GACxB2B,QAASA,EACTC,KAAMA,Q,iBCYDkB,EApCE,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,SAAUC,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,SACnCC,EAAOH,EAASI,QAAQC,MAAM,EAAG,IACjCC,EAAON,EAASI,QAAQC,MAAM,GAAI,IACxC,OACE,yBAAKtD,UAAU,YACb,kBAACO,EAAA,EAAD,CACEE,KAAK,OACL4B,QAAS,kBAAMa,EAAY,OAC3B3D,MAAO,CAAEiE,OAAQ,IAAKC,WAAY,cAAezE,SAAU,WAAY0E,IAAK,MAAOC,MAAO,QAE1F,kBAACC,EAAA,EAAD,CAAMhF,KAAK,QAAQ6B,KAAK,QAAQX,UAAQ,KAE1C,kBAACS,EAAA,EAAD,CACEsD,SAAO,EACPxB,QAAS,kBAAMc,EAASF,EAAS/C,KACjCX,MAAO,CAAEuE,OAAQ,OAAQC,WAAY,QAHvC,QAOA,uBAAGxE,MAAO,CAAE8B,WAAY,SAAxB,gBACA,uBAAG9B,MAAO,CAAEyE,SAAU,eAAiBf,EAASgB,MAChD,uBAAG1E,MAAO,CAAE8B,WAAY,SAAxB,kBACkB4B,EAASiB,aAAaC,OADxC,IACiDlB,EAASmB,gBAD1D,KAGA,kBAACC,EAAA,EAAD,CAAMC,UAAQ,GACXrB,EAASiB,aAAavB,KAAI,SAAA4B,GAAW,OACpC,kBAACF,EAAA,EAAKG,KAAN,CAAW1B,IAAKyB,GACbA,OAIP,uBAAGhF,MAAO,CAAE8B,WAAY,SAAxB,iBAAiD+B,EAAjD,IAAwDG,EAAxD,UCVSkB,EArBK,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,YAAaC,EAAgC,EAAhCA,aAAczB,EAAkB,EAAlBA,YAC1C0B,EAAQD,EAAaE,UAAUH,EAAYxE,IACjD,OACE,yBAAKF,UAAU,YACb,kBAACO,EAAA,EAAD,CACEE,KAAK,OACL4B,QAAS,kBAAMa,EAAY,OAC3B3D,MAAO,CAAEiE,OAAQ,IAAKC,WAAY,cAAezE,SAAU,WAAY0E,IAAK,MAAOC,MAAO,QAE1F,kBAACC,EAAA,EAAD,CAAMhF,KAAK,QAAQ6B,KAAK,QAAQX,UAAQ,KAE1C,wBAAIP,MAAO,CAAEU,MAAO,QAAST,QAAS,SAAtC,SACCoF,EAAMjC,KAAI,SAAA9F,GAAI,OACb,yBAAKwF,QAAS,kBAAMa,EAAYrG,IAAOmD,UAAU,cAAc8C,IAAKjG,EAAKkF,WAAW7B,IACjFrD,EAAKkF,WAAWkC,WCGZa,EAhBI,SAAC,GAA8D,IAA5DC,EAA2D,EAA3DA,gBAAiB7B,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,SAAUwB,EAAmB,EAAnBA,aAC5D,OAAII,EAAgBhD,WAAWF,QAE3B,kBAAC,EAAD,CAAa6C,YAAaK,EAAiBJ,aAAcA,EAAczB,YAAaA,IAIpF,kBAAC,EAAD,CACED,SAAU8B,EAAgBhD,WAC1BmB,YAAaA,EACbC,SAAUA,K,SCUHrF,cAAQ,KAAM,CAAEkH,OTUT,WACpB,8CAAO,WAAMhI,GAAN,SAAAnB,EAAA,sDACLsB,OAAOC,aAAa6H,WAAW,gBAC/BjI,EAAS,CACPU,KAAM,WAHH,2CAAP,mDAAM,KSXOI,EAnBI,SAACC,GAClB,OACE,kBAACmH,EAAA,EAAD,CAAMpF,UAAQ,EAACP,MAAO,CAAE4F,aAAc,MACpC,kBAACD,EAAA,EAAKV,KAAN,CACE5F,KAAK,QADP,QAKA,kBAACsG,EAAA,EAAKV,KAAN,CACExF,SAAS,QACTJ,KAAK,WACLyD,QAAS,kBAAMtE,EAAMiH,WAHvB,cCqCSI,EAhDK,WAAyB,IAAxBxH,EAAuB,uDAAf,GAAIC,EAAW,uCAC1C,OAAQA,EAAOH,MACb,IAAK,aACH,OAAOG,EAAO1B,KAChB,IAAK,WACH,OAAOyB,EAAMyH,OAAOxH,EAAO1B,MAC7B,IAAK,aACH,IAAMmJ,EAAc1H,EAAM2H,MAAK,SAAA1I,GAAI,OAAIA,EAAKqD,KAAOrC,EAAO2H,UAE1D,OADAF,EAAYpB,aAAeoB,EAAYpB,aAAamB,OAAOxH,EAAO4H,QAC3D7H,EAAM+E,KAAI,SAAA9F,GAAI,OAAIA,EAAKqD,KAAOrC,EAAO2H,OAASF,EAAczI,KAErE,QACE,OAAOe,IC6GEE,eANS,SAACF,GACvB,MAAO,CACLqE,SAAUrE,EAAMqE,YAIoB,CAAEyD,WDvFhB,SAAC7I,GACzB,8CAAO,WAAMG,GAAN,eAAAnB,EAAA,+EAEmB2B,EAAY7B,OAAOkB,GAFtC,OAEGN,EAFH,OAGHS,EAAS,CACPU,KAAM,WACNvB,KAAMI,IALL,yEAQI,KAAUL,UARd,yDAAP,mDAAM,KCsFO4B,EArHK,SAACC,GAAW,IAAD,EACGC,mBAAS,IADZ,mBACtB2H,EADsB,KACZC,EADY,OAEL5H,mBAAS,IAFJ,mBAEtBiG,EAFsB,KAEhB4B,EAFgB,OAGiB7H,mBAAS,IAH1B,mBAGtBoG,EAHsB,KAGL0B,EAHK,OAIW9H,mBAAS,IAJpB,mBAItBO,EAJsB,KAIRC,EAJQ,OAKSR,oBAAS,GALlB,mBAKtB+H,EALsB,KAKTC,EALS,KAOvBC,EAAa,uCAAG,WAAOvH,GAAP,iBAAA7C,EAAA,6DACpB6C,EAAMC,iBACApC,EAAU,CACd2J,aAAcP,EACd1D,SAAUlE,EAAMkE,SAChBgC,OACAG,mBANkB,SAQIrG,EAAM2H,WAAWnJ,GARrB,QAQdsE,EARc,QAWlBrC,EAAgBqC,EAAU1E,KAAKgD,QAE/BL,IAAMC,KAAN,0CAA8CqF,EAA9C,4BAAyF,CACvFpF,SAAUF,IAAMG,SAASC,aAE3B0G,EAAY,IACZC,EAAQ,IACRC,EAAmB,IACnBtH,EAAgB,IAChBwH,GAAe,IApBG,2CAAH,sDAwBnB,OAAKD,EAaH,kBAAC3G,EAAA,EAAD,CAAMG,MAAO,CAAEP,SAAU,WAAY0E,IAAK,IAAKC,MAAO,IAAKwC,UAAW,OAAQC,YAAa,SACzF,kBAAChH,EAAA,EAAKC,OAAN,KACE,kBAACC,EAAA,EAAD,CAASC,MAAO,CAAEC,QAAS,OAAQC,gBAAiB,YAClD,kBAACc,EAAA,EAAD,CAAQE,KAAK,OACX4B,QAAS,kBAAM2D,GAAe,IAC9BzG,MAAO,CAAEiE,OAAQ,IAAKC,WAAY,cAAezE,SAAU,WAAY2E,MAAO,IAAKD,IAAK,MAExF,kBAACE,EAAA,EAAD,CAAMhF,KAAK,QAAQ6B,KAAK,QAAQX,UAAQ,KAE1C,kBAACJ,EAAA,EAAD,CAAMC,SAAUsG,GACd,kBAACrG,EAAA,EAAD,CAAQC,GAAG,KAAKC,UAAQ,GAAxB,iBAGkB,KAAjBvB,GACC,kBAACwB,EAAA,EAAD,KACGxB,GAGL,yBAAKyB,UAAU,SACb,2BAAOT,MAAO,CAAEU,MAAO,UAAvB,YACA,yBAAKD,UAAU,kBACb,2BACEE,GAAG,WACHX,MAAO,CAAEU,MAAO,QAASR,gBAAiB,WAC1C/B,KAAK,SACLyC,YAAY,2BACZC,MAAOuF,EACPtF,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBsF,EAAYtF,EAAOF,YAInD,yBAAKJ,UAAU,SACb,2BAAOT,MAAO,CAAEU,MAAO,UAAvB,eACA,yBAAKD,UAAU,kBACb,2BACEE,GAAG,cACHX,MAAO,CAAEU,MAAO,QAASR,gBAAiB,WAC1C/B,KAAK,OACLyC,YAAY,4BACZC,MAAO6D,EACP5D,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBuF,EAAQvF,EAAOF,YAI/C,yBAAKJ,UAAU,SACb,2BAAOT,MAAO,CAAEU,MAAO,UAAvB,kCACA,yBAAKD,UAAU,kBACb,2BACEE,GAAG,eACHX,MAAO,CAAEU,MAAO,QAASR,gBAAiB,WAC1C/B,KAAK,SACLyC,YAAY,oCACZC,MAAOgE,EACP/D,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBwF,EAAmBxF,EAAOF,YAI1D,kBAACG,EAAA,EAAD,CAAQN,MAAM,OAAOO,OAAK,EAACC,KAAK,QAAQP,GAAG,uBAA3C,qBApEN,kBAACK,EAAA,EAAD,CACEsD,SAAO,EACPtE,MAAO,CAAEP,SAAU,WAAY0E,IAAK,OAAQC,MAAO,QACnDtB,QAAS,kBAAM2D,GAAe,KAHhC,e,UCxBSK,GAZI,kBACjB,kBAACC,GAAA,EAAD,KACE,kBAACvG,EAAA,EAAD,CAASwG,MAAI,EAACC,SAAO,GACnB,kBAAC5C,EAAA,EAAD,CAAMhF,KAAK,mBACX,kBAACmB,EAAA,EAAQ0G,QAAT,KACE,kBAAC1G,EAAA,EAAQH,OAAT,2BADF,+EC2HS9B,gBAvBS,SAACF,GAiBvB,MAAO,CACL8I,OAhBa9I,EAAMgH,MAAMjC,KAAI,SAAA9F,GAAI,MAAK,CACtCa,KAAM,UACNqE,WAAW,aACTF,SAAS,GACNhF,GAEL+F,SAAU,CACRlF,KAAM,QACNmF,YAAa,CACXhG,EAAKoF,SAASG,KACdvF,EAAKoF,SAASC,UAOlBD,SAAUrE,EAAMqE,YAIoB,CAAE0E,UHtGjB,SAAClB,EAAQD,GAChC,MAAO,CACL9H,KAAM,aACN+H,SACAD,YGkGW1H,EApHH,SAACC,GAAW,IAAD,EACWC,mBAAS,IADpB,mBACd4I,EADc,KACJC,EADI,OAEW7I,mBAAS,MAFpB,mBAEd8I,EAFc,KAEJ5D,EAFI,KAIrB6D,qBAAU,WAERF,EAAY,CACV7E,SAA6B,OAAnBjE,EAAMkE,SAAoB,EAAIlE,EAAMkE,SAASC,IACvDC,UAA8B,OAAnBpE,EAAMkE,SAAoB,EAAIlE,EAAMkE,SAAS+E,IACxDlF,KAAyB,OAAnB/D,EAAMkE,SAAoB,EAAI,GACpCM,OAAQ,QACRC,MAAO,YAER,CAACzE,EAAMkE,WAGV,IAAMgF,EAASC,mBACTC,EAAYF,EAAOG,QAAUH,EAAOG,QAAQC,SAASC,YAAYC,UAAUC,OAAS,KAjBrE,EAoBcC,YAAgB,CACjDf,OAAQ3I,EAAM2I,OACd5E,KAAM8E,EAAS9E,KACf4F,OAAQP,EACRQ,QAAS,CAAEC,OAAQ,IAAKC,QAAS,MAJ3BnF,EApBa,EAoBbA,SAAUiC,EApBG,EAoBHA,aAOZxB,EAAQ,uCAAG,WAAOtG,GAAP,eAAAhB,EAAA,+EAEU4B,EAAc9B,OAAO,CAAEkB,SAFjC,OAEPX,EAFO,OAGb4C,IAAMC,KAAK,+BAAgC,CACzCC,SAAUF,IAAMG,SAASC,aAE3BnB,EAAM4I,UAAUzK,EAASgB,KAAMhB,EAASW,MAN3B,gDASbiC,IAAMgJ,KAAK,KAAU5L,SAASC,KAAKgD,MAAO,CACxCH,SAAUF,IAAMG,SAASC,aAVd,yDAAH,sDAkCd,OAAuB,OAAnBnB,EAAMkE,SAEN,kBAAC,GAAD,MAKF,kBAAC,IAAD,eACE4F,QAAS,GACTE,IAAKd,GACDL,EAHN,CAIEoB,qBAAsBC,4FACtBC,SAAS,oDACTC,iBAAkB,SAAAvB,GAChBC,EAAYD,MAGd,kBAAC,EAAD,MACA,kBAAC,EAAD,CAASlE,SAAUA,EAAUZ,KApCpB,SAACD,GAEZ,IAAMuG,EAAavG,EAAQ3B,GAAUmI,KAAKC,IAAI3D,EAAa4D,wBAAwB1G,EAAQ3B,IAAK,IAAhE,GAFR,cAGM2B,EAAQe,SAASC,YAHvB,GAGjBV,EAHiB,KAGNH,EAHM,KAIxBkB,EAAYrB,GAEZgF,EAAY,eACPD,EADM,CAET5E,WACAG,YACAL,KAAMsG,EACNI,uBAAwB,IAAIC,IAAkB,CAC5CC,MAAO,IAETC,mBAAoB,aAuBpB,kBAAC,EAAD,MACC7B,GACC,kBAAC,EAAD,CACE/B,gBAAiB+B,EACjB5D,YAAaA,EACbC,SAAUA,EACVwB,aAAcA,QCzFlBiE,GAAQ,uCAAG,4BAAA/M,EAAA,sEACGC,IAAMQ,IAAI,0BADb,cACTuM,EADS,yBAERA,EAAI1M,MAFI,2CAAH,qDAmDC2M,GA5DS,WAA2B,IAA1BlL,EAAyB,uDAAjB,KAAMC,EAAW,uCAChD,OAAQA,EAAOH,MACb,IAAK,kBACH,OAAOG,EAAOoE,SAChB,QACE,OAAOrE,I,cCKbkB,IAAMiK,UAAU,CACdC,UAAW,KACXC,iBAAiB,IAGnB,IAyCenL,gBANS,SAACF,GACvB,MAAO,CACLV,KAAMU,EAAMV,QAIwB,CAAEgM,gBLxCX,WAC7B,8CAAO,WAAMlM,GAAN,eAAAnB,EAAA,sEACe2B,EAAYnB,eAD3B,OACCuI,EADD,OAEL5H,EAAS,CACPU,KAAM,aACNvB,KAAMyI,IAJH,2CAAP,mDAAM,IKuCmDuE,aff/B,SAACjM,GAC3B,8CAAO,WAAMF,GAAN,SAAAnB,EAAA,sDACL2B,EAAYb,SAASO,EAAKd,OAC1BqB,EAAcd,SAASO,EAAKd,OAC5BY,EAAS,CACPU,KAAM,iBACNR,SALG,2CAAP,mDAAM,IeciEkM,eD1C3C,WAC5B,8CAAO,WAAMpM,GAAN,SAAAnB,EAAA,sDACD,gBAAiBwN,UACnBA,UAAUC,YAAYC,oBAAmB,SAACvK,GACxC,IAAMwK,EAAe,CACnBtH,IAAKlD,EAASyK,OAAOzH,SACrBgF,IAAKhI,EAASyK,OAAOtH,WAEvBnF,EAAS,CACPU,KAAM,kBACNuE,SAAUuH,OAGd,SAACE,GACCC,QAAQC,IAAI,yBAA0BF,GACrBd,KACRiB,MAAK,SAAAhB,GACZc,QAAQC,IAAI,WAAYf,GACxB,IAAMW,EAAe,CACnBtH,IAAK2G,EAAI7G,SACTgF,IAAK6B,EAAI1G,WAEXnF,EAAS,CACPU,KAAM,kBACNuE,SAAUuH,WAMhBG,QAAQC,IAAI,6CACKhB,KACRiB,MAAK,SAAAhB,GACZ,IAAMW,EAAe,CACnBtH,IAAK2G,EAAI7G,SACTgF,IAAK6B,EAAI1G,WAEXnF,EAAS,CACPU,KAAM,kBACNuE,SAAUuH,QAtCX,2CAAP,mDAAM,KCyCO1L,EAzCH,SAACC,GACX,IAAM+L,EAAY/L,EAAMmL,gBAClBa,EAAiBhM,EAAMoL,aACvBa,EAAcjM,EAAMqL,eAkB1B,OAhBArC,qBAAU,WACR+C,MACC,CAACA,IAEJ/C,qBAAU,WACR,IAAMkD,EAAiB9M,OAAOC,aAAa8M,QAAQ,gBACnD,GAAID,EAAgB,CAClB,IAAM/M,EAAOI,KAAK6M,MAAMF,GACxBF,EAAe7M,MAEhB,CAAC6M,IAEJhD,qBAAU,WACRiD,MACC,CAACA,IAEe,OAAfjM,EAAMb,KAEN,kBAACoJ,GAAA,EAAD,KACE,kBAAC,EAAD,OAKJ,6BACE,kBAAC,GAAD,U,mBChCA8D,GAAUC,aAAgB,CAC9BzF,MAAOQ,EACPlI,KAAMS,EACNsE,SAAU6G,KAGNwB,GAAQC,aAAYH,GAASI,aAAgBC,OAEnDC,IAASC,OACP,kBAAC,IAAD,CAAUL,MAAOA,IACf,kBAAC,GAAD,OAEFM,SAASC,eAAe,W","file":"static/js/main.5085ba22.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/kobe.4b4fdbac.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bball.527662f6.svg\";","import axios from 'axios'\n\nlet baseUrl = ''\n\nif(process.env.NODE_ENV === 'production') {\n  baseUrl = 'https://pickupgamefinder.herokuapp.com'\n}\n\nconst apiUrl = '/api/users'\n\nconst create = async (newUser) => {\n  return await axios.post(`${baseUrl}${apiUrl}`, newUser)\n}\n\nexport default {\n  create\n}","import axios from 'axios'\n\nlet baseUrl = ''\n\nif(process.env.NODE_ENV === 'production') {\n  baseUrl = 'https://pickupgamefinder.herokuapp.com'\n}\n\nconst apiUrl = '/api/login'\n\nconst login = async (credentials) => {\n  const response = await axios.post(`${baseUrl}${apiUrl}`, credentials)\n  return response.data\n}\n\nexport default { login }","import axios from 'axios'\n\nlet token = null\nlet baseUrl = ''\n\nif(process.env.NODE_ENV === 'production') {\n  baseUrl = 'https://pickupgamefinder.herokuapp.com'\n}\n\nconst apiUrl = '/api/games'\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst getAllActive = async () => {\n  const response = await axios.get(`${baseUrl}${apiUrl}/active`)\n  return response.data\n}\n\nconst create = async (newGame) => {\n  const config = {\n    headers: { Authorization: token }\n  }\n\n  const response = await axios.post(`${baseUrl}${apiUrl}`, newGame, config)\n  return response.data\n}\n\nexport default {\n  getAllActive,\n  create,\n  setToken\n}","import axios from 'axios'\n\nlet token = null\nlet baseUrl = ''\n\nif(process.env.NODE_ENV === 'production') {\n  baseUrl = 'https://pickupgamefinder.herokuapp.com'\n}\n\nconst apiUrl = '/api/players'\n\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst create = async (game) => {\n  const config = {\n    headers: { Authorization: token }\n  }\n\n  const response = await axios.post(`${baseUrl}${apiUrl}`, game, config)\n  return response.data\n}\n\nexport default {\n  setToken,\n  create\n}","import loginService from '../services/login'\nimport gameService from '../services/games'\nimport playerService from '../services/players'\n\nconst loginReducer = (state = null, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return action.user\n    case 'STAY_LOGGED_IN':\n      return action.user\n    case 'LOGOUT':\n      return null\n    default:\n      return state\n  }\n}\n\nexport const login = (username, password) => {\n  return async dispatch => {\n    try {\n      const user = await loginService.login({ username, password })\n      window.localStorage.setItem('loggedInUser', JSON.stringify(user))\n      gameService.setToken(user.token)\n      playerService.setToken(user.token)\n      dispatch({\n        type: 'LOGIN',\n        user\n      })\n    } catch (exception) {\n      return exception.response\n    }\n  }\n}\n\nexport const logOut = () => {\n  return async dispatch => {\n    window.localStorage.removeItem('loggedInUser')\n    dispatch({\n      type: 'LOGOUT'\n    })\n  }\n}\n\nexport const stayLoggedIn = (user) => {\n  return async dispatch => {\n    gameService.setToken(user.token)\n    playerService.setToken(user.token)\n    dispatch({\n      type: 'STAY_LOGGED_IN',\n      user\n    })\n  }\n}\n\nexport default loginReducer","import React, { useState } from 'react'\nimport userService from '../../services/users'\nimport { connect } from 'react-redux'\nimport { login } from '../../reducers/loginReducer'\nimport { Grid, Form, Segment, Button, Header, Message } from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\n\nconst NewAccountForm = (props) => {\n  const [newUsername, setNewUsername] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newPassword, setNewPassword] = useState('')\n  const [notification, setNotification] = useState('')\n\n  const createAccount = async (event) => {\n    event.preventDefault()\n    try {\n      const newUser = {\n        username: newUsername,\n        name: newName,\n        password: newPassword\n      }\n      await userService.create(newUser)\n      setNewUsername('')\n      setNewName('')\n      setNewPassword('')\n      setNotification('')\n      props.login(newUser.username, newUser.password)\n      toast.info(`Welcome ${newUser.username}`, {\n        position: toast.POSITION.TOP_CENTER\n      })\n    } catch (exception) {\n      setNotification(exception.response.data.error)\n    }\n  }\n\n  return (\n    <Grid>\n      <Grid.Column>\n        <Segment style={{ padding: '20px', backgroundColor: '#1c2836' }}>\n          <Form onSubmit={createAccount}>\n            <Header as='h2' inverted>\n              Sign up\n            </Header>\n            {notification !== '' && (\n              <Message>\n                {notification}\n              </Message>\n            )}\n            <div className='field'>\n              <label style={{ color: 'white' }}>Username</label>\n              <div className='ui fluid input'>\n                <input\n                  id='username'\n                  style={{ color: 'white', backgroundColor: '#243447' }}\n                  type='text'\n                  placeholder='Username (3-15 characters)'\n                  value={newUsername}\n                  onChange={({ target }) => setNewUsername(target.value)}\n                />\n              </div>\n            </div>\n            <div className='field'>\n              <label style={{ color: 'white' }}>Name</label>\n              <div className='ui fluid input'>\n                <input\n                  id='name'\n                  style={{ color: 'white', backgroundColor: '#243447' }}\n                  type='text'\n                  placeholder='Name (2-30 characters)'\n                  value={newName}\n                  onChange={({ target }) => setNewName(target.value)}\n                />\n              </div>\n            </div>\n            <div className='field'>\n              <label style={{ color: 'white' }}>Password</label>\n              <div className='ui fluid input'>\n                <input\n                  id='password'\n                  style={{ color: 'white', backgroundColor: '#243447' }}\n                  type='password'\n                  placeholder='Password (min. 5 characters)'\n                  value={newPassword}\n                  onChange={({ target }) => setNewPassword(target.value)}\n                />\n              </div>\n            </div>\n            <Button color='blue' fluid size='large' id='accountCreation-button'>\n              Sign up\n            </Button>\n          </Form>\n        </Segment>\n      </Grid.Column>\n    </Grid>\n  )\n}\n\nexport default connect(null, { login })(NewAccountForm)","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { login } from '../../reducers/loginReducer'\nimport { Button, Form, Message, Header } from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\n\n\nconst LoginForm = (props) => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [notification, setNotification] = useState('')\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    const exception = await props.login(username, password)\n\n    if (exception) {\n      setPassword('')\n      setNotification(exception.data.error)\n    } else {\n      toast.info(`Welcome ${username}`, {\n        position: toast.POSITION.TOP_CENTER\n      })\n    }\n  }\n\n  return (\n    <Form\n      onSubmit={handleLogin}\n    >\n      <Header\n        as='h2'\n        inverted\n      >\n        Login\n      </Header>\n      <Form.Group\n        inline\n        widths='equal'\n      >\n        <div\n          className='field'\n        >\n          <div\n            className='ui fluid input'\n          >\n            <input\n              id='login-username'\n              style={{ color: 'white', backgroundColor: '#243447' }}\n              type='text'\n              placeholder='Username'\n              value={username}\n              onChange={({ target }) => setUsername(target.value)}\n            />\n          </div>\n        </div>\n        <div\n          className='field'\n        >\n          <div\n            className='ui fluid input'\n          >\n            <input\n              id='login-password'\n              style={{ color: 'white', backgroundColor: '#243447' }}\n              type='password'\n              placeholder='Password'\n              value={password}\n              onChange={({ target }) => setPassword(target.value)}\n            />\n          </div>\n        </div>\n        <Button\n          color='blue'\n          id='login-button'\n        >\n          Login\n        </Button>\n      </Form.Group>\n      {notification !== '' && (\n        <Message>\n          {notification}\n        </Message>\n      )}\n    </Form>\n  )\n}\n\nexport default connect(null, { login })(LoginForm)","import React from 'react'\nimport { Grid, Header } from 'semantic-ui-react'\nimport NewAccountForm from './forms/NewAccountForm'\nimport LoginForm from './forms/LoginForm'\nimport kobe from '../kobe.jpg'\n\nconst FrontPage = () => {\n  return (\n    <Grid columns={2}>\n      <Grid.Row style={{  paddingBottom: '20px', paddingTop: '50px' }}>\n        <Grid.Column>\n        </Grid.Column>\n        <Grid.Column>\n          <LoginForm />\n        </Grid.Column>\n      </Grid.Row>\n      <Grid.Row>\n        <Grid.Column>\n          <Header as='h1' inverted>\n            Pickupgame finder\n            <Header.Subheader>\n              Find local pickupgames and start balling\n            </Header.Subheader>\n          </Header>\n          <img src={kobe} alt=\"Basketball legend Kobe Bryant\" style={{ maxWidth: '60%', maxHeight: '60%' }} />\n        </Grid.Column>\n        <Grid.Column>\n          <NewAccountForm />\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  )\n}\n\n\n\n\n\nexport default FrontPage","import React from 'react'\nimport { Marker } from 'react-map-gl'\nimport bball from '../bball.svg'\n\nconst Game = ({ cluster, zoom }) => {\n  //console.log('gamessa', cluster)\n  const game = cluster.properties\n  return (\n\n    <Marker\n      latitude={game.location.lat}\n      longitude={game.location.long}\n    >\n      <div onClick={() => { zoom(cluster) }}>\n        <img src={bball} alt='basketballgame here' style={{ height: '25px', width: '25px' }} />\n      </div>\n    </Marker>\n  )\n}\n\nexport default Game","import React from 'react'\nimport Game from './Game'\nimport { Marker } from 'react-map-gl'\n\nconst Markers = ({ clusters, zoom }) => {\n  return (\n    clusters.map(cluster => {\n      const [longitude, latitude] = cluster.geometry.coordinates\n\n      if (cluster.properties.cluster) {\n        //console.log('klusteri', cluster)\n        return (\n          <Marker\n            key={cluster.id}\n            latitude={latitude}\n            longitude={longitude}>\n            <div onClick={() => zoom(cluster)} style={{ 'color': 'black', 'backgroundColor': '#cc5500', 'borderRadius': '50%', 'width': '25px', 'height': '25px', 'textAlign': 'center', 'lineHeight': '25px' }}>\n              {cluster.properties.point_count}\n            </div>\n          </Marker>\n        )\n      }\n\n      return (\n        <Game\n          key={cluster.properties.id}\n          cluster={cluster}\n          zoom={zoom}\n        />\n      )\n    })\n  )\n}\n\nexport default Markers","import React from 'react'\nimport { Button, List, Icon } from 'semantic-ui-react'\n\nconst GameInfo = ({ gameInfo, setSelected, joinGame }) => {\n  const date = gameInfo.endTime.slice(0, 10)\n  const time = gameInfo.endTime.slice(11, 16)\n  return (\n    <div className='gameInfo'>\n      <Button\n        size='mini'\n        onClick={() => setSelected(null)}\n        style={{ border: '0', background: 'transparent', position: 'absolute', top: '0px', right: '0px' }}\n      >\n        <Icon name='close' size='small' inverted />\n      </Button>\n      <Button\n        primary\n        onClick={() => joinGame(gameInfo.id)}\n        style={{ margin: '20px', marginLeft: '0px' }}\n      >\n        Join\n      </Button>\n      <p style={{ paddingTop: '10px' }}>Description:</p>\n      <p style={{ wordWrap: 'break-word' }}>{gameInfo.desc}</p>\n      <p style={{ paddingTop: '10px' }}>\n        Participants: ({gameInfo.participants.length}/{gameInfo.maxParticipants})\n      </p>\n      <List bulleted>\n        {gameInfo.participants.map(participant =>\n          <List.Item key={participant}>\n            {participant}\n          </List.Item>\n        )}\n      </List>\n      <p style={{ paddingTop: '10px' }}>Game ends at: {date} {time} GMT</p>\n    </div>\n  )\n}\n\nexport default GameInfo","import React from 'react'\nimport { Button, Icon } from 'semantic-ui-react'\n\nconst ClusterInfo = ({ clusterInfo, supercluster, setSelected }) => {\n  const games = supercluster.getLeaves(clusterInfo.id)\n  return (\n    <div className='gameList' >\n      <Button\n        size='mini'\n        onClick={() => setSelected(null)}\n        style={{ border: '0', background: 'transparent', position: 'absolute', top: '0px', right: '0px' }}\n      >\n        <Icon name='close' size='small' inverted />\n      </Button>\n      <h2 style={{ color: 'white', padding: '12px' }}>Games</h2>\n      {games.map(game =>\n        <div onClick={() => setSelected(game)} className='gameListDiv' key={game.properties.id}>\n          {game.properties.desc}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default ClusterInfo","import React from 'react'\nimport GameInfo from './GameInfo'\nimport ClusterInfo from './ClusterInfo'\n\nconst MarkerInfo = ({ selectedCluster, setSelected, joinGame, supercluster }) => {\n  if (selectedCluster.properties.cluster) {\n    return (\n      <ClusterInfo clusterInfo={selectedCluster} supercluster={supercluster} setSelected={setSelected} />\n    )\n  } else {\n    return (\n      <GameInfo\n        gameInfo={selectedCluster.properties}\n        setSelected={setSelected}\n        joinGame={joinGame}\n      />\n    )\n  }\n}\n\nexport default MarkerInfo","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Menu } from 'semantic-ui-react'\nimport { logOut } from '../reducers/loginReducer'\n\nconst Navigation = (props) => {\n  return (\n    <Menu inverted style={{ marginBottom: '0' }}>\n      <Menu.Item\n        name='home'\n      >\n        Home\n      </Menu.Item>\n      <Menu.Item\n        position='right'\n        name='settings'\n        onClick={() => props.logOut()}\n      >\n        Logout\n      </Menu.Item>\n    </Menu>\n  )\n}\n\nexport default connect(null, { logOut })(Navigation)","import gameService from '../services/games'\n\nconst gameReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT_GAMES':\n      return action.data\n    case 'ADD_GAME':\n      return state.concat(action.data)\n    case 'ADD_PLAYER': {\n      const updatedGame = state.find(game => game.id === action.gameId)\n      updatedGame.participants = updatedGame.participants.concat(action.userId)\n      return state.map(game => game.id === action.gameId ? updatedGame : game)\n    }\n    default:\n      return state\n  }\n}\n\nexport const initializeGames = () => {\n  return async dispatch => {\n    const games = await gameService.getAllActive()\n    dispatch({\n      type: 'INIT_GAMES',\n      data: games\n    })\n  }\n}\n\nexport const addPlayer = (userId, gameId) => {\n  return {\n    type: 'ADD_PLAYER',\n    userId,\n    gameId\n  }\n}\n\nexport const createGame = (game) => {\n  return async dispatch => {\n    try {\n      const newGame = await gameService.create(game)\n      dispatch({\n        type: 'ADD_GAME',\n        data: newGame\n      })\n    } catch (exception) {\n      return exception.response\n    }\n  }\n}\n\nexport default gameReducer","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { createGame } from '../../reducers/gameReducer'\nimport { Grid, Segment, Form, Header, Button, Message, Icon } from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\n\nconst NewGameForm = (props) => {\n  const [duration, setDuration] = useState('')\n  const [desc, setDesc] = useState('')\n  const [maxParticipants, setmaxParticipants] = useState('')\n  const [notification, setNotification] = useState('')\n  const [formVisible, setFormVisible] = useState(false)\n\n  const createNewGame = async (event) => {\n    event.preventDefault()\n    const newGame = {\n      durationMins: duration,\n      location: props.location,\n      desc,\n      maxParticipants\n    }\n    const exception = await props.createGame(newGame)\n\n    if (exception) {\n      setNotification(exception.data.error)\n    } else {\n      toast.info(`Successfully created a game for ${maxParticipants} people in your location`, {\n        position: toast.POSITION.TOP_CENTER\n      })\n      setDuration('')\n      setDesc('')\n      setmaxParticipants(10)\n      setNotification('')\n      setFormVisible(false)\n    }\n  }\n\n  if (!formVisible) {\n    return (\n      <Button\n        primary\n        style={{ position: 'absolute', top: '50px', right: '10px' }}\n        onClick={() => setFormVisible(true)}\n      >\n        New Game\n      </Button>\n    )\n  }\n\n  return (\n    <Grid style={{ position: 'absolute', top: '0', right: '0', marginTop: '35px', marginRight: '10px' }}>\n      <Grid.Column>\n        <Segment style={{ padding: '20px', backgroundColor: '#141d26' }}>\n          <Button size='mini'\n            onClick={() => setFormVisible(false)}\n            style={{ border: '0', background: 'transparent', position: 'absolute', right: '0', top: '0' }}\n          >\n            <Icon name='close' size='small' inverted />\n          </Button>\n          <Form onSubmit={createNewGame}>\n            <Header as='h2' inverted>\n              Start a game!\n            </Header>\n            {notification !== '' && (\n              <Message>\n                {notification}\n              </Message>\n            )}\n            <div className='field'>\n              <label style={{ color: 'white' }}>Duration</label>\n              <div className='ui fluid input'>\n                <input\n                  id='duration'\n                  style={{ color: 'white', backgroundColor: '#243447' }}\n                  type='number'\n                  placeholder='Duration in mins (1-180)'\n                  value={duration}\n                  onChange={({ target }) => setDuration(target.value)}\n                />\n              </div>\n            </div>\n            <div className='field'>\n              <label style={{ color: 'white' }}>Description</label>\n              <div className='ui fluid input'>\n                <input\n                  id='description'\n                  style={{ color: 'white', backgroundColor: '#243447' }}\n                  type='text'\n                  placeholder='Description (5-140 chars)'\n                  value={desc}\n                  onChange={({ target }) => setDesc(target.value)}\n                />\n              </div>\n            </div>\n            <div className='field'>\n              <label style={{ color: 'white' }}>Maximum amount of participants</label>\n              <div className='ui fluid input'>\n                <input\n                  id='participants'\n                  style={{ color: 'white', backgroundColor: '#243447' }}\n                  type='number'\n                  placeholder='Max amount of participants (1-30)'\n                  value={maxParticipants}\n                  onChange={({ target }) => setmaxParticipants(target.value)}\n                />\n              </div>\n            </div>\n            <Button color='blue' fluid size='large' id='gamecreation-button'>\n              Create a game\n            </Button>\n          </Form>\n        </Segment>\n      </Grid.Column>\n    </Grid>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    location: state.location\n  }\n}\n\nexport default connect(mapStateToProps, { createGame })(NewGameForm)","import React from 'react'\nimport { Container, Message, Icon } from 'semantic-ui-react'\n\nconst NoLocation = () => (\n  <Container>\n    <Message icon warning>\n      <Icon name='location arrow' />\n      <Message.Content>\n        <Message.Header>Pls, give location</Message.Header>\n        Please accept or deny the use of your location to continue using the app\n      </Message.Content>\n    </Message>\n  </Container>\n)\n\nexport default NoLocation","import React, { useState, useEffect, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport playerService from '../services/players'\nimport ReactMapGL, { FlyToInterpolator } from 'react-map-gl'\nimport useSupercluster from 'use-supercluster'\nimport Markers from './Markers'\nimport MarkerInfo from './MarkerInfo'\nimport Navigation from './Navigation'\nimport NewGameForm from './forms/NewGameForm'\nimport NoLocation from './NoLocation'\nimport { toast } from 'react-toastify'\nimport { addPlayer } from '../reducers/gameReducer'\n\n\nconst Map = (props) => {\n  const [viewport, setViewport] = useState({})\n  const [selected, setSelected] = useState(null)\n\n  useEffect(() => {\n    //after user location is fetched, we initialize the map\n    setViewport({\n      latitude: props.location === null ? 0 : props.location.lat,\n      longitude: props.location === null ? 0 : props.location.lng,\n      zoom: props.location === null ? 0 : 12,\n      height: '100vh',\n      width: '100vw'\n    })\n  }, [props.location])\n\n  //boundaries of map for supercluster\n  const mapRef = useRef()\n  const mapBounds = mapRef.current ? mapRef.current.getMap().getBounds().toArray().flat() : null\n\n  //get game clusters from supercluster\n  const { clusters, supercluster } = useSupercluster({\n    points: props.points,\n    zoom: viewport.zoom,\n    bounds: mapBounds,\n    options: { radius: 100, maxZoom: 15 }\n  })\n\n  const joinGame = async (game) => {\n    try {\n      const response = await playerService.create({ game })\n      toast.info('Joined the game successfully', {\n        position: toast.POSITION.TOP_CENTER\n      })\n      props.addPlayer(response.user, response.game)\n\n    } catch (exception) {\n      toast.warn(exception.response.data.error, {\n        position: toast.POSITION.TOP_CENTER\n      })\n    }\n  }\n\n\n  const zoom = (cluster) => {\n    //if no id, we are zooming to a single game\n    const zoomLevel = !cluster.id ? 15 : Math.min(supercluster.getClusterExpansionZoom(cluster.id), 15)\n    const [longitude, latitude] = cluster.geometry.coordinates\n    setSelected(cluster)\n\n    setViewport({\n      ...viewport,\n      latitude,\n      longitude,\n      zoom: zoomLevel,\n      transitionInterpolator: new FlyToInterpolator({\n        speed: 1\n      }),\n      transitionDuration: 'auto'\n    })\n  }\n\n  if (props.location === null) {\n    return (\n      <NoLocation />\n    )\n  }\n\n  return (\n    <ReactMapGL\n      maxZoom={15}\n      ref={mapRef}\n      {...viewport}\n      mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n      mapStyle='mapbox://styles/ogrousu/ck6g74as70kw51io8h0ceo6h3'\n      onViewportChange={viewport => {\n        setViewport(viewport)\n      }}\n    >\n      <Navigation />\n      <Markers clusters={clusters} zoom={zoom} />\n      <NewGameForm />\n      {selected && (\n        <MarkerInfo\n          selectedCluster={selected}\n          setSelected={setSelected}\n          joinGame={joinGame}\n          supercluster={supercluster}\n        />\n      )}\n    </ReactMapGL>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  //modify game data to GeoJSON for supercluster\n  const points = state.games.map(game => ({\n    type: 'Feature',\n    properties: {\n      cluster: false,\n      ...game\n    },\n    geometry: {\n      type: 'Point',\n      coordinates: [\n        game.location.long,\n        game.location.lat\n      ]\n    }\n  }))\n\n  return {\n    points,\n    location: state.location\n  }\n}\n\nexport default connect(mapStateToProps, { addPlayer })(Map)","import axios from 'axios'\n\nconst locationReducer = (state = null, action) => {\n  switch (action.type) {\n    case 'CHANGE_LOCATION':\n      return action.location\n    default:\n      return state\n  }\n}\n\nconst ipLookUp = async () => {\n  const res = await axios.get('https://ipapi.co/json/')\n  return res.data\n}\n\nexport const changeLocation = () => {\n  return async dispatch => {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        const userLocation = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        }\n        dispatch({\n          type: 'CHANGE_LOCATION',\n          location: userLocation\n        })\n      },\n      (message) => {\n        console.log('failed to get location', message)\n        const response = ipLookUp()\n        response.then(res => {\n          console.log('response', res)\n          const userLocation = {\n            lat: res.latitude,\n            lng: res.longitude\n          }\n          dispatch({\n            type: 'CHANGE_LOCATION',\n            location: userLocation\n          })\n        })\n      })\n\n    } else {\n      console.log('geolocation not supported in this browser')\n      const response = ipLookUp()\n      response.then(res => {\n        const userLocation = {\n          lat: res.latitude,\n          lng: res.longitude\n        }\n        dispatch({\n          type: 'CHANGE_LOCATION',\n          location: userLocation\n        })\n      })\n    }\n  }\n}\n\nexport default locationReducer","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport FrontPage from './components/FrontPage'\nimport Map from './components/Map'\nimport { initializeGames } from './reducers/gameReducer'\nimport { stayLoggedIn } from './reducers/loginReducer'\nimport { changeLocation } from './reducers/locationReducer'\nimport { Container } from 'semantic-ui-react'\nimport { toast } from 'react-toastify'\nimport './App.css'\nimport 'react-toastify/dist/ReactToastify.css'\n\ntoast.configure({\n  autoClose: 3500,\n  hideProgressBar: true\n})\n\nconst App = (props) => {\n  const initGames = props.initializeGames\n  const keepUserLogged = props.stayLoggedIn\n  const setLocation = props.changeLocation\n\n  useEffect(() => {\n    initGames()\n  }, [initGames])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedInUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      keepUserLogged(user)\n    }\n  }, [keepUserLogged])\n\n  useEffect(() => {\n    setLocation()\n  }, [setLocation])\n\n  if (props.user === null) {\n    return (\n      <Container>\n        <FrontPage />\n      </Container>\n    )\n  }\n  return (\n    <div>\n      <Map />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user\n  }\n}\n\nexport default connect(mapStateToProps, { initializeGames, stayLoggedIn, changeLocation })(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux'\nimport gameReducer from './reducers/gameReducer'\nimport loginReducer from './reducers/loginReducer'\nimport locationReducer from './reducers/locationReducer'\n\n// used colors:\n// darkes: #141d26\n// mid: #1c2836\n// lightest: #243447\n\nconst reducer = combineReducers({\n  games: gameReducer,\n  user: loginReducer,\n  location: locationReducer\n})\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}